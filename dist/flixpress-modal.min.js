/*! flixpress-modal - v1.0.0 - 2015-08-20
* Copyright (c) 2015 Don Denton; Licensed MIT */
!function(a){function b(b){var c={widthPercent:80,heightPercent:80};q.partialModalProperties!==!1?a.extend(c,q.partialModalProperties,b):a.extend(c,b);var d={width:c.widthPercent+"%",height:c.heightPercent+"%",position:"fixed",top:(100-c.heightPercent)/2+"%",left:(100-c.widthPercent)/2+"%"};return d}function c(a){k.animate(b(a))}function d(c,d){d!==!1?l.html(d):l.html("Content not found."),j.append(l),j.show().hide(),a("body").css({overflow:"hidden"}),"full"===c?k.css(b({widthPercent:100,heightPercent:100})).show({duration:0}):k.css(b()).show({duration:0}),j.show("slide",{direction:"down"},function(){n.show("slide",{direction:"up",easing:"easeOutBounce",duration:800})}),p.clone().appendTo("body").css({display:"block"}).animate({opacity:.85}),a("body").on("click.fpModalClose","."+q.classNamePrefix+"close-button",function(){e(j)}),a(document).on("keyup.fpModalClose",function(a){27===a.which&&e(j)})}function e(){a("body").css({overflow:"auto"}),j.hide("slide",{direction:"down"},function(){k.hide()}),n.hide("slide",{direction:"up"}),a("."+q.classNamePrefix+"shade").animate({opacity:0},function(){a(this).remove()}),a(document).off(".fpModalClose")}function f(b){if(void 0!==a(b).data().modalContentName){var c=a(b).data().modalContentName;return a('[data-modal-content-for="'+c+'"]').html()}if(void 0!==a(b).data().modalContentAddress){var d=a(b).data().modalContentAddress;return'<iframe src="'+d+'"></iframe>'}return void 0!==a(b).data().modalContent?a(b).data().modalContent:!1}function g(b){return a(b).hasClass(q.alternateSizeClassName)?"full":q.preferredSize}function h(a,b){b.preventDefault();var c=f(a),e=g(a);d(e,c)}var i,j,k,l,m,n,o,p,q={classNamePrefix:"flixpress-modal-",toolbarImageSrc:"",preferredSize:"partial",alternateSizeClassName:"full-modal",partialModalProperties:!1,automaticRunClassName:"modal"};a.flixpressModal=function(b){q=a.extend(q,b),i=a("<div></div>"),j=i.clone().addClass(q.classNamePrefix+"main"),k=i.clone().addClass(q.classNamePrefix+"container"),l=i.clone().addClass(q.classNamePrefix+"content"),n=i.clone().addClass(q.classNamePrefix+"toolbar").hide(),""!==q.toolbarImageSrc&&(m=new Image,m.src=q.toolbarImageSrc,n.prepend(m)),o=i.clone().addClass(q.classNamePrefix+"close-button").html("Close"),p=i.clone().addClass(q.classNamePrefix+"shade"),j.append(n),k.append(j),o.prependTo(n),p.css({display:"none",opacity:0}),window.flixpressModalSizeChange=c,a(document).ready(function(){p.appendTo("body"),k.appendTo("body"),a("body").on("click","."+q.automaticRunClassName,function(a){h(this,a)})})},a.fn.flixpressModal=function(){return this.each(function(){a(this).on("click",function(a){h(this,a)})})}}(jQuery);